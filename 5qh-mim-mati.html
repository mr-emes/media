<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hukum Bacaan Mim Mati - Al-Quran Hadits Kelas 5</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Poppins:wght@300;400;600;700&display=swap');
        
        .arabic-text {
            font-family: 'Amiri', serif;
            font-size: 1.8rem;
            line-height: 1.8;
            font-weight: 400;
        }
        
        .arabic-large {
            font-family: 'Amiri', serif;
            font-size: 2.5rem;
            line-height: 1.6;
            font-weight: 700;
        }
        
        .arabic-small {
            font-family: 'Amiri', serif;
            font-size: 1.4rem;
            line-height: 1.6;
            font-weight: 400;
        }
        
        .bounce-in {
            animation: bounceIn 0.6s ease-out;
        }
        
        @keyframes bounceIn {
            0% { transform: scale(0.3); opacity: 0; }
            50% { transform: scale(1.05); }
            70% { transform: scale(0.9); }
            100% { transform: scale(1); opacity: 1; }
        }
        
        .slide-in {
            animation: slideIn 0.5s ease-out;
        }
        
        @keyframes slideIn {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .glow {
            box-shadow: 0 0 20px rgba(34, 197, 94, 0.5);
        }
        
        .card-hover {
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-green-50 min-h-screen font-['Poppins']">
    <!-- Header -->
    <header class="bg-gradient-to-r from-green-600 to-blue-600 text-white py-6 shadow-lg">
        <div class="container mx-auto px-4 text-center">
            <h1 class="text-3xl md:text-4xl font-bold mb-2">🕌 Hukum Bacaan Mim Mati</h1>
            <p class="text-lg opacity-90">Al-Quran Hadits - Kelas 5 MI</p>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="bg-white shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-4">
            <div class="flex justify-center space-x-2 md:space-x-4 py-3">
                <button onclick="showSection('materi')" class="nav-btn bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors">
                    📚 Materi
                </button>
                <button onclick="showSection('contoh')" class="nav-btn bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors">
                    📖 Contoh
                </button>
                <button onclick="showSection('latihan')" class="nav-btn bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-600 transition-colors">
                    🎯 Latihan
                </button>
                <button onclick="showSection('kuis')" class="nav-btn bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors">
                    🏆 Kuis
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
        <!-- Materi Section -->
        <section id="materi" class="section-content">
            <div class="bg-white rounded-xl shadow-lg p-6 md:p-8 mb-8">
                <h2 class="text-2xl md:text-3xl font-bold text-green-700 mb-6 text-center">
                    📚 Pengertian Mim Mati
                </h2>
                
                <div class="grid md:grid-cols-2 gap-6 mb-8">
                    <div class="bg-gradient-to-r from-green-100 to-blue-100 p-6 rounded-lg">
                        <h3 class="text-xl font-semibold text-green-700 mb-3">Apa itu Mim Mati?</h3>
                        <p class="text-gray-700 leading-relaxed mb-3">
                            Mim Mati adalah huruf <span class="arabic-large text-green-600 font-bold">مْ</span> yang tidak berharakat (sukun) atau berada di akhir kata.
                        </p>
                        <p class="text-gray-700 leading-relaxed">
                            Dalam Al-Quran, Mim Mati sering ditemukan dalam kata-kata seperti <span class="arabic-text text-blue-600">أَمْ</span>, <span class="arabic-text text-blue-600">هُمْ</span>, <span class="arabic-text text-blue-600">لَهُمْ</span>, dan lain-lain.
                        </p>
                    </div>
                    
                    <div class="bg-gradient-to-r from-blue-100 to-purple-100 p-6 rounded-lg">
                        <h3 class="text-xl font-semibold text-blue-700 mb-3">Ciri-ciri Mim Mati</h3>
                        <ul class="text-gray-700 space-y-2">
                            <li>• Bertanda sukun (ْ) atau tanpa harakat</li>
                            <li>• Tidak berharakat fathah, kasrah, atau dhammah</li>
                            <li>• Bisa di tengah atau akhir kata</li>
                            <li>• Hukum bacaannya tergantung huruf setelahnya</li>
                            <li>• Termasuk dalam ilmu tajwid yang penting</li>
                        </ul>
                    </div>
                </div>

                <!-- Penjelasan Mendalam -->
                <div class="bg-gradient-to-r from-yellow-50 to-orange-50 p-6 rounded-lg border-l-4 border-yellow-500 mb-8">
                    <h3 class="text-xl font-bold text-yellow-700 mb-4">🔍 Mengapa Mim Mati Penting?</h3>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div>
                            <h4 class="font-semibold text-gray-700 mb-2">Dalam Ibadah:</h4>
                            <ul class="text-gray-600 space-y-1 text-sm">
                                <li>• Mempengaruhi keindahan bacaan Al-Quran</li>
                                <li>• Bagian dari kesempurnaan shalat</li>
                                <li>• Menunjukkan adab terhadap kitab suci</li>
                            </ul>
                        </div>
                        <div>
                            <h4 class="font-semibold text-gray-700 mb-2">Dalam Pembelajaran:</h4>
                            <ul class="text-gray-600 space-y-1 text-sm">
                                <li>• Dasar ilmu tajwid yang fundamental</li>
                                <li>• Melatih kepekaan terhadap bunyi huruf</li>
                                <li>• Membangun kebiasaan membaca yang benar</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <h3 class="text-2xl font-bold text-center text-blue-700 mb-6">
                    🎯 Tiga Hukum Bacaan Mim Mati
                </h3>

                <div class="grid md:grid-cols-3 gap-6 mb-8">
                    <!-- Ikhfa Syafawi -->
                    <div class="card-hover bg-gradient-to-b from-green-400 to-green-500 text-white p-6 rounded-xl">
                        <div class="text-center mb-4">
                            <div class="bg-white text-green-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-3 text-2xl font-bold">1</div>
                            <h4 class="text-xl font-bold arabic-text">إخفاء شفوي</h4>
                            <p class="text-sm opacity-90">(Ikhfa Syafawi)</p>
                        </div>
                        <div class="space-y-3">
                            <p><strong>Huruf:</strong> <span class="arabic-large">ب</span> (Ba)</p>
                            <p><strong>Cara Baca:</strong> Samar-samar dengan dengung</p>
                            <p><strong>Tempat:</strong> Di antara bibir</p>
                            <p><strong>Durasi:</strong> 1 harakat</p>
                        </div>
                    </div>

                    <!-- Idgham Mimi -->
                    <div class="card-hover bg-gradient-to-b from-blue-400 to-blue-500 text-white p-6 rounded-xl">
                        <div class="text-center mb-4">
                            <div class="bg-white text-blue-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-3 text-2xl font-bold">2</div>
                            <h4 class="text-xl font-bold arabic-text">إدغام ميمي</h4>
                            <p class="text-sm opacity-90">(Idgham Mimi)</p>
                        </div>
                        <div class="space-y-3">
                            <p><strong>Huruf:</strong> <span class="arabic-large">م</span> (Mim)</p>
                            <p><strong>Cara Baca:</strong> Dilebur dengan dengung</p>
                            <p><strong>Tanda:</strong> Tasydid (ّ)</p>
                            <p><strong>Durasi:</strong> 2 harakat</p>
                        </div>
                    </div>

                    <!-- Izhar Syafawi -->
                    <div class="card-hover bg-gradient-to-b from-purple-400 to-purple-500 text-white p-6 rounded-xl">
                        <div class="text-center mb-4">
                            <div class="bg-white text-purple-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-3 text-2xl font-bold">3</div>
                            <h4 class="text-xl font-bold arabic-text">إظهار شفوي</h4>
                            <p class="text-sm opacity-90">(Izhar Syafawi)</p>
                        </div>
                        <div class="space-y-3">
                            <p><strong>Huruf:</strong> 26 huruf lainnya</p>
                            <p><strong>Cara Baca:</strong> Jelas dan terang</p>
                            <p><strong>Tanda:</strong> Tanpa dengung</p>
                            <p><strong>Durasi:</strong> Normal</p>
                        </div>
                    </div>
                </div>

                <!-- Detail Setiap Hukum -->
                <div class="space-y-6">
                    <!-- Detail Ikhfa Syafawi -->
                    <div class="bg-green-50 p-6 rounded-lg border-l-4 border-green-500">
                        <h4 class="text-xl font-bold text-green-700 mb-4 flex items-center">
                            <span class="bg-green-500 text-white w-8 h-8 rounded-full flex items-center justify-center mr-3 text-sm">1</span>
                            Penjelasan Ikhfa Syafawi
                        </h4>
                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <h5 class="font-semibold text-green-600 mb-2">Pengertian:</h5>
                                <p class="text-gray-700 text-sm mb-3">
                                    Ikhfa artinya "menyembunyikan". Mim mati dibaca samar-samar ketika bertemu huruf Ba, tidak jelas seperti Izhar dan tidak lebur seperti Idgham.
                                </p>
                                <h5 class="font-semibold text-green-600 mb-2">Cara Praktik:</h5>
                                <ul class="text-gray-700 text-sm space-y-1">
                                    <li>• Bibir hampir tertutup</li>
                                    <li>• Ada dengung di hidung</li>
                                    <li>• Suara Mim tidak hilang total</li>
                                    <li>• Durasi 1 harakat (1 ketukan)</li>
                                </ul>
                            </div>
                            <div>
                                <h5 class="font-semibold text-green-600 mb-2">Contoh dalam Al-Quran:</h5>
                                <div class="space-y-2">
                                    <div class="bg-white p-2 rounded">
                                        <p class="arabic-text text-green-600">وَمَا هُمْ بِمُؤْمِنِينَ</p>
                                        <p class="text-xs text-gray-600">QS. Al-Baqarah: 8</p>
                                    </div>
                                    <div class="bg-white p-2 rounded">
                                        <p class="arabic-text text-green-600">أَمْ بَشَرٌ مِثْلُكُمْ</p>
                                        <p class="text-xs text-gray-600">QS. Al-Kahf: 110</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Detail Idgham Mimi -->
                    <div class="bg-blue-50 p-6 rounded-lg border-l-4 border-blue-500">
                        <h4 class="text-xl font-bold text-blue-700 mb-4 flex items-center">
                            <span class="bg-blue-500 text-white w-8 h-8 rounded-full flex items-center justify-center mr-3 text-sm">2</span>
                            Penjelasan Idgham Mimi
                        </h4>
                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <h5 class="font-semibold text-blue-600 mb-2">Pengertian:</h5>
                                <p class="text-gray-700 text-sm mb-3">
                                    Idgham artinya "memasukkan". Mim mati dilebur ke dalam Mim berharakat yang mengikutinya, sehingga terdengar seperti Mim panjang berdengung.
                                </p>
                                <h5 class="font-semibold text-blue-600 mb-2">Cara Praktik:</h5>
                                <ul class="text-gray-700 text-sm space-y-1">
                                    <li>• Mim mati tidak dibunyikan</li>
                                    <li>• Langsung ke Mim berharakat</li>
                                    <li>• Ada dengung 2 harakat</li>
                                    <li>• Biasanya ada tanda tasydid (ّ)</li>
                                </ul>
                            </div>
                            <div>
                                <h5 class="font-semibold text-blue-600 mb-2">Contoh dalam Al-Quran:</h5>
                                <div class="space-y-2">
                                    <div class="bg-white p-2 rounded">
                                        <p class="arabic-text text-blue-600">لَهُمْ مَا يَشَاءُونَ</p>
                                        <p class="text-xs text-gray-600">QS. Az-Zumar: 34</p>
                                    </div>
                                    <div class="bg-white p-2 rounded">
                                        <p class="arabic-text text-blue-600">أَمْ مَنْ يَمْشِي</p>
                                        <p class="text-xs text-gray-600">QS. Al-Mulk: 22</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Detail Izhar Syafawi -->
                    <div class="bg-purple-50 p-6 rounded-lg border-l-4 border-purple-500">
                        <h4 class="text-xl font-bold text-purple-700 mb-4 flex items-center">
                            <span class="bg-purple-500 text-white w-8 h-8 rounded-full flex items-center justify-center mr-3 text-sm">3</span>
                            Penjelasan Izhar Syafawi
                        </h4>
                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <h5 class="font-semibold text-purple-600 mb-2">Pengertian:</h5>
                                <p class="text-gray-700 text-sm mb-3">
                                    Izhar artinya "menampakkan". Mim mati dibaca jelas dan terang ketika bertemu 26 huruf selain Ba dan Mim, tanpa dengung.
                                </p>
                                <h5 class="font-semibold text-purple-600 mb-2">Huruf-huruf Izhar:</h5>
                                <div class="bg-white p-2 rounded text-center">
                                    <p class="arabic-text text-purple-600 text-lg">ت ث ج ح خ د ذ ر ز س ش ص ض ط ظ ع غ ف ق ك ل ن ه و ي أ</p>
                                </div>
                            </div>
                            <div>
                                <h5 class="font-semibold text-purple-600 mb-2">Contoh dalam Al-Quran:</h5>
                                <div class="space-y-2">
                                    <div class="bg-white p-2 rounded">
                                        <p class="arabic-text text-purple-600">هُمْ فِيهَا خَالِدُونَ</p>
                                        <p class="text-xs text-gray-600">QS. Al-Baqarah: 39</p>
                                    </div>
                                    <div class="bg-white p-2 rounded">
                                        <p class="arabic-text text-purple-600">أَمْ لَهُمْ شُرَكَاءُ</p>
                                        <p class="text-xs text-gray-600">QS. Asy-Syura: 21</p>
                                    </div>
                                    <div class="bg-white p-2 rounded">
                                        <p class="arabic-text text-purple-600">هُمْ يُوقِنُونَ</p>
                                        <p class="text-xs text-gray-600">QS. Al-Baqarah: 4</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tips Menghafal -->
                <div class="bg-gradient-to-r from-indigo-100 to-purple-100 p-6 rounded-lg border-l-4 border-indigo-500 mt-8">
                    <h4 class="text-xl font-bold text-indigo-700 mb-4">💡 Tips Mudah Menghafal</h4>
                    <div class="grid md:grid-cols-3 gap-4">
                        <div class="bg-white p-4 rounded-lg">
                            <h5 class="font-semibold text-green-600 mb-2">🟢 Ikhfa Syafawi</h5>
                            <p class="text-sm text-gray-700">"<strong>B</strong>ila bertemu <strong>B</strong>a, <strong>B</strong>aca <strong>B</strong>erdengung"</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg">
                            <h5 class="font-semibold text-blue-600 mb-2">🔵 Idgham Mimi</h5>
                            <p class="text-sm text-gray-700">"<strong>M</strong>im ketemu <strong>M</strong>im, <strong>M</strong>elebur <strong>M</strong>endengung"</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg">
                            <h5 class="font-semibold text-purple-600 mb-2">🟣 Izhar Syafawi</h5>
                            <p class="text-sm text-gray-700">"Selain Ba dan Mim, bacanya <strong>Jelas</strong> dan <strong>Jernih</strong>"</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Contoh Section -->
        <section id="contoh" class="section-content hidden">
            <div class="bg-white rounded-xl shadow-lg p-6 md:p-8">
                <h2 class="text-2xl md:text-3xl font-bold text-blue-700 mb-6 text-center">
                    📖 Contoh-Contoh Bacaan
                </h2>

                <!-- Pengantar -->
                <div class="bg-gradient-to-r from-cyan-50 to-blue-50 p-6 rounded-lg border-l-4 border-cyan-500 mb-8">
                    <h3 class="text-lg font-bold text-cyan-700 mb-3">🎯 Cara Menggunakan Contoh Ini:</h3>
                    <div class="grid md:grid-cols-2 gap-4 text-sm">
                        <div>
                            <p class="text-gray-700 mb-2">• <strong>Perhatikan</strong> huruf setelah Mim Mati (مْ)</p>
                            <p class="text-gray-700 mb-2">• <strong>Identifikasi</strong> hukum bacaan yang tepat</p>
                            <p class="text-gray-700">• <strong>Praktikkan</strong> cara membacanya</p>
                        </div>
                        <div>
                            <p class="text-gray-700 mb-2">• <strong>Dengarkan</strong> perbedaan setiap hukum</p>
                            <p class="text-gray-700 mb-2">• <strong>Hafalkan</strong> contoh-contoh utama</p>
                            <p class="text-gray-700">• <strong>Terapkan</strong> saat membaca Al-Quran</p>
                        </div>
                    </div>
                </div>

                <div class="space-y-8">
                    <!-- Ikhfa Syafawi Examples -->
                    <div class="bg-gradient-to-r from-green-50 to-green-100 p-6 rounded-lg border-l-4 border-green-500">
                        <h3 class="text-xl font-bold text-green-700 mb-4 flex items-center">
                            <span class="bg-green-500 text-white w-8 h-8 rounded-full flex items-center justify-center mr-3 text-sm">1</span>
                            Ikhfa Syafawi (مْ + ب)
                        </h3>
                        <div class="mb-4 bg-white p-3 rounded-lg">
                            <p class="text-sm text-gray-600 mb-2"><strong>Cara Membaca:</strong> Mim mati dibaca samar-samar dengan dengung 1 harakat ketika bertemu Ba</p>
                            <p class="text-sm text-green-600"><strong>Tips:</strong> Bibir hampir tertutup, ada dengung di hidung, suara "mmm" pendek</p>
                        </div>
                        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                            <div class="example-card bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow">
                                <p class="arabic-large text-center text-green-600 mb-2">أَمْ بَشَرٌ</p>
                                <p class="text-center text-gray-600 font-semibold">Am basyarun</p>
                                <p class="text-center text-xs text-gray-500 mt-2">QS. Al-Kahf: 110</p>
                                <p class="text-center text-xs text-green-600 mt-1">Mim mati + Ba</p>
                            </div>
                            <div class="example-card bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow">
                                <p class="arabic-large text-center text-green-600 mb-2">هُمْ بِهِ</p>
                                <p class="text-center text-gray-600 font-semibold">Hum bihi</p>
                                <p class="text-center text-xs text-gray-500 mt-2">QS. Al-Baqarah: 4</p>
                                <p class="text-center text-xs text-green-600 mt-1">Mim mati + Ba</p>
                            </div>
                            <div class="example-card bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow">
                                <p class="arabic-large text-center text-green-600 mb-2">وَمَا هُمْ بِمُؤْمِنِينَ</p>
                                <p class="text-center text-gray-600 font-semibold">Wa maa hum bi mu'miniin</p>
                                <p class="text-center text-xs text-gray-500 mt-2">QS. Al-Baqarah: 8</p>
                                <p class="text-center text-xs text-green-600 mt-1">Mim mati + Ba</p>
                            </div>
                            <div class="example-card bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow">
                                <p class="arabic-large text-center text-green-600 mb-2">لَهُمْ بَيْتٌ</p>
                                <p class="text-center text-gray-600 font-semibold">Lahum baitun</p>
                                <p class="text-center text-xs text-gray-500 mt-2">Contoh Umum</p>
                                <p class="text-center text-xs text-green-600 mt-1">Mim mati + Ba</p>
                            </div>
                            <div class="example-card bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow">
                                <p class="arabic-large text-center text-green-600 mb-2">عَلَيْهِمْ بَرْدٌ</p>
                                <p class="text-center text-gray-600 font-semibold">Alaihim bardun</p>
                                <p class="text-center text-xs text-gray-500 mt-2">Contoh Umum</p>
                                <p class="text-center text-xs text-green-600 mt-1">Mim mati + Ba</p>
                            </div>
                            <div class="example-card bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow">
                                <p class="arabic-large text-center text-green-600 mb-2">أَنْتُمْ بِخَيْرٍ</p>
                                <p class="text-center text-gray-600 font-semibold">Antum bi khairin</p>
                                <p class="text-center text-xs text-gray-500 mt-2">Contoh Umum</p>
                                <p class="text-center text-xs text-green-600 mt-1">Mim mati + Ba</p>
                            </div>
                        </div>
                    </div>

                    <!-- Idgham Mimi Examples -->
                    <div class="bg-gradient-to-r from-blue-50 to-blue-100 p-6 rounded-lg border-l-4 border-blue-500">
                        <h3 class="text-xl font-bold text-blue-700 mb-4 flex items-center">
                            <span class="bg-blue-500 text-white w-8 h-8 rounded-full flex items-center justify-center mr-3 text-sm">2</span>
                            Idgham Mimi (مْ + م)
                        </h3>
                        <div class="mb-4 bg-white p-3 rounded-lg">
                            <p class="text-sm text-gray-600 mb-2"><strong>Cara Membaca:</strong> Mim mati dilebur ke dalam Mim berharakat dengan dengung 2 harakat</p>
                            <p class="text-sm text-blue-600"><strong>Tips:</strong> Seperti Mim panjang berdengung, biasanya ada tanda tasydid (ّ)</p>
                        </div>
                        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                            <div class="example-card bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow">
                                <p class="arabic-large text-center text-blue-600 mb-2">لَهُمْ مَا</p>
                                <p class="text-center text-gray-600 font-semibold">Lahum maa</p>
                                <p class="text-center text-xs text-gray-500 mt-2">QS. Az-Zumar: 34</p>
                                <p class="text-center text-xs text-blue-600 mt-1">Mim mati + Mim</p>
                            </div>
                            <div class="example-card bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow">
                                <p class="arabic-large text-center text-blue-600 mb-2">أَمْ مَنْ</p>
                                <p class="text-center text-gray-600 font-semibold">Am man</p>
                                <p class="text-center text-xs text-gray-500 mt-2">QS. Al-Mulk: 22</p>
                                <p class="text-center text-xs text-blue-600 mt-1">Mim mati + Mim</p>
                            </div>
                            <div class="example-card bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow">
                                <p class="arabic-large text-center text-blue-600 mb-2">عَلَيْهِمْ مَا</p>
                                <p class="text-center text-gray-600 font-semibold">Alaihim maa</p>
                                <p class="text-center text-xs text-gray-500 mt-2">QS. Al-Fatiha: 7</p>
                                <p class="text-center text-xs text-blue-600 mt-1">Mim mati + Mim</p>
                            </div>
                            <div class="example-card bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow">
                                <p class="arabic-large text-center text-blue-600 mb-2">هُمْ مُفْلِحُونَ</p>
                                <p class="text-center text-gray-600 font-semibold">Hum muflihuun</p>
                                <p class="text-center text-xs text-gray-500 mt-2">QS. Al-Baqarah: 5</p>
                                <p class="text-center text-xs text-blue-600 mt-1">Mim mati + Mim</p>
                            </div>
                            <div class="example-card bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow">
                                <p class="arabic-large text-center text-blue-600 mb-2">أَنْتُمْ مُسْلِمُونَ</p>
                                <p class="text-center text-gray-600 font-semibold">Antum muslimuun</p>
                                <p class="text-center text-xs text-gray-500 mt-2">Contoh Umum</p>
                                <p class="text-center text-xs text-blue-600 mt-1">Mim mati + Mim</p>
                            </div>
                            <div class="example-card bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow">
                                <p class="arabic-large text-center text-blue-600 mb-2">لَكُمْ مَالٌ</p>
                                <p class="text-center text-gray-600 font-semibold">Lakum maalun</p>
                                <p class="text-center text-xs text-gray-500 mt-2">Contoh Umum</p>
                                <p class="text-center text-xs text-blue-600 mt-1">Mim mati + Mim</p>
                            </div>
                        </div>
                    </div>

                    <!-- Izhar Syafawi Examples -->
                    <div class="bg-gradient-to-r from-purple-50 to-purple-100 p-6 rounded-lg border-l-4 border-purple-500">
                        <h3 class="text-xl font-bold text-purple-700 mb-4 flex items-center">
                            <span class="bg-purple-500 text-white w-8 h-8 rounded-full flex items-center justify-center mr-3 text-sm">3</span>
                            Izhar Syafawi (مْ + 26 huruf lainnya)
                        </h3>
                        <div class="mb-4 bg-white p-3 rounded-lg">
                            <p class="text-sm text-gray-600 mb-2"><strong>Cara Membaca:</strong> Mim mati dibaca jelas dan terang tanpa dengung</p>
                            <p class="text-sm text-purple-600"><strong>Tips:</strong> Suara Mim keluar dengan jelas, tidak ada dengung, bibir tertutup rapat lalu terbuka</p>
                        </div>
                        
                        <!-- Contoh berdasarkan huruf -->
                        <div class="space-y-6">
                            <!-- Huruf Fa, Qaf, Kaf, Lam -->
                            <div>
                                <h4 class="font-semibold text-purple-600 mb-3">Dengan Huruf F, Q, K, L:</h4>
                                <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-3">
                                    <div class="example-card bg-white p-3 rounded-lg shadow-sm">
                                        <p class="arabic-text text-center text-purple-600 mb-1">هُمْ فِيهَا</p>
                                        <p class="text-center text-gray-600 text-sm">Hum fiiha</p>
                                        <p class="text-center text-xs text-purple-600">مْ + ف</p>
                                    </div>
                                    <div class="example-card bg-white p-3 rounded-lg shadow-sm">
                                        <p class="arabic-text text-center text-purple-600 mb-1">لَهُمْ قَوْلٌ</p>
                                        <p class="text-center text-gray-600 text-sm">Lahum qaulun</p>
                                        <p class="text-center text-xs text-purple-600">مْ + ق</p>
                                    </div>
                                    <div class="example-card bg-white p-3 rounded-lg shadow-sm">
                                        <p class="arabic-text text-center text-purple-600 mb-1">أَنْتُمْ كَذَلِكَ</p>
                                        <p class="text-center text-gray-600 text-sm">Antum kadzalika</p>
                                        <p class="text-center text-xs text-purple-600">مْ + ك</p>
                                    </div>
                                    <div class="example-card bg-white p-3 rounded-lg shadow-sm">
                                        <p class="arabic-text text-center text-purple-600 mb-1">أَمْ لَهُمْ</p>
                                        <p class="text-center text-gray-600 text-sm">Am lahum</p>
                                        <p class="text-center text-xs text-purple-600">مْ + ل</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Huruf Ya, Nun, Ha, Waw -->
                            <div>
                                <h4 class="font-semibold text-purple-600 mb-3">Dengan Huruf Y, N, H, W:</h4>
                                <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-3">
                                    <div class="example-card bg-white p-3 rounded-lg shadow-sm">
                                        <p class="arabic-text text-center text-purple-600 mb-1">هُمْ يُوقِنُونَ</p>
                                        <p class="text-center text-gray-600 text-sm">Hum yuuqinuun</p>
                                        <p class="text-center text-xs text-purple-600">مْ + ي</p>
                                    </div>
                                    <div class="example-card bg-white p-3 rounded-lg shadow-sm">
                                        <p class="arabic-text text-center text-purple-600 mb-1">لَهُمْ نَصِيبٌ</p>
                                        <p class="text-center text-gray-600 text-sm">Lahum nasiibun</p>
                                        <p class="text-center text-xs text-purple-600">مْ + ن</p>
                                    </div>
                                    <div class="example-card bg-white p-3 rounded-lg shadow-sm">
                                        <p class="arabic-text text-center text-purple-600 mb-1">عَلَيْهِمْ هُدًى</p>
                                        <p class="text-center text-gray-600 text-sm">Alaihim hudan</p>
                                        <p class="text-center text-xs text-purple-600">مْ + ه</p>
                                    </div>
                                    <div class="example-card bg-white p-3 rounded-lg shadow-sm">
                                        <p class="arabic-text text-center text-purple-600 mb-1">أَنْتُمْ وَلَدٌ</p>
                                        <p class="text-center text-gray-600 text-sm">Antum waladun</p>
                                        <p class="text-center text-xs text-purple-600">مْ + و</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Huruf Ta, Tsa, Jim, Kha -->
                            <div>
                                <h4 class="font-semibold text-purple-600 mb-3">Dengan Huruf T, Ts, J, Kh:</h4>
                                <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-3">
                                    <div class="example-card bg-white p-3 rounded-lg shadow-sm">
                                        <p class="arabic-text text-center text-purple-600 mb-1">لَهُمْ تِجَارَةٌ</p>
                                        <p class="text-center text-gray-600 text-sm">Lahum tijaaratun</p>
                                        <p class="text-center text-xs text-purple-600">مْ + ت</p>
                                    </div>
                                    <div class="example-card bg-white p-3 rounded-lg shadow-sm">
                                        <p class="arabic-text text-center text-purple-600 mb-1">أَنْتُمْ ثَلَاثَةٌ</p>
                                        <p class="text-center text-gray-600 text-sm">Antum tsalaatsatun</p>
                                        <p class="text-center text-xs text-purple-600">مْ + ث</p>
                                    </div>
                                    <div class="example-card bg-white p-3 rounded-lg shadow-sm">
                                        <p class="arabic-text text-center text-purple-600 mb-1">لَهُمْ جَنَّةٌ</p>
                                        <p class="text-center text-gray-600 text-sm">Lahum jannatun</p>
                                        <p class="text-center text-xs text-purple-600">مْ + ج</p>
                                    </div>
                                    <div class="example-card bg-white p-3 rounded-lg shadow-sm">
                                        <p class="arabic-text text-center text-purple-600 mb-1">عَلَيْهِمْ خَوْفٌ</p>
                                        <p class="text-center text-gray-600 text-sm">Alaihim khaufun</p>
                                        <p class="text-center text-xs text-purple-600">مْ + خ</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Contoh dari Al-Quran -->
                            <div>
                                <h4 class="font-semibold text-purple-600 mb-3">Contoh Lengkap dari Al-Quran:</h4>
                                <div class="grid md:grid-cols-2 gap-4">
                                    <div class="example-card bg-white p-4 rounded-lg shadow-sm">
                                        <p class="arabic-large text-center text-purple-600 mb-2">هُمْ فِيهَا خَالِدُونَ</p>
                                        <p class="text-center text-gray-600 font-semibold">Hum fiiha khaaliduun</p>
                                        <p class="text-center text-xs text-gray-500 mt-2">QS. Al-Baqarah: 39</p>
                                        <p class="text-center text-xs text-purple-600 mt-1">"Mereka kekal di dalamnya"</p>
                                    </div>
                                    <div class="example-card bg-white p-4 rounded-lg shadow-sm">
                                        <p class="arabic-large text-center text-purple-600 mb-2">أَمْ لَهُمْ شُرَكَاءُ</p>
                                        <p class="text-center text-gray-600 font-semibold">Am lahum syurakaa'u</p>
                                        <p class="text-center text-xs text-gray-500 mt-2">QS. Asy-Syura: 21</p>
                                        <p class="text-center text-xs text-purple-600 mt-1">"Ataukah mereka mempunyai sekutu"</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Rangkuman -->
                <div class="bg-gradient-to-r from-gray-50 to-gray-100 p-6 rounded-lg border-l-4 border-gray-500 mt-8">
                    <h3 class="text-xl font-bold text-gray-700 mb-4">📋 Rangkuman Contoh</h3>
                    <div class="grid md:grid-cols-3 gap-4">
                        <div class="bg-green-100 p-4 rounded-lg text-center">
                            <h4 class="font-bold text-green-700 mb-2">Ikhfa Syafawi</h4>
                            <p class="text-sm text-gray-600 mb-2">1 huruf: <span class="arabic-text text-green-600">ب</span></p>
                            <p class="text-xs text-gray-500">Samar + Dengung 1 harakat</p>
                        </div>
                        <div class="bg-blue-100 p-4 rounded-lg text-center">
                            <h4 class="font-bold text-blue-700 mb-2">Idgham Mimi</h4>
                            <p class="text-sm text-gray-600 mb-2">1 huruf: <span class="arabic-text text-blue-600">م</span></p>
                            <p class="text-xs text-gray-500">Lebur + Dengung 2 harakat</p>
                        </div>
                        <div class="bg-purple-100 p-4 rounded-lg text-center">
                            <h4 class="font-bold text-purple-700 mb-2">Izhar Syafawi</h4>
                            <p class="text-sm text-gray-600 mb-2">26 huruf lainnya</p>
                            <p class="text-xs text-gray-500">Jelas + Tanpa dengung</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Latihan Section -->
        <section id="latihan" class="section-content hidden">
            <div class="bg-white rounded-xl shadow-lg p-6 md:p-8">
                <h2 class="text-2xl md:text-3xl font-bold text-purple-700 mb-6 text-center">
                    🎯 Latihan Interaktif
                </h2>

                <div class="mb-8">
                    <p class="text-center text-gray-600 mb-6">Klik pada contoh bacaan di bawah ini untuk mengetahui hukum bacaannya!</p>
                    
                    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4" id="latihanContainer">
                        <!-- Latihan items will be generated by JavaScript -->
                    </div>
                </div>

                <div id="latihanResult" class="hidden bg-gradient-to-r from-green-100 to-blue-100 p-6 rounded-lg text-center">
                    <div id="resultContent"></div>
                    <button onclick="resetLatihan()" class="mt-4 bg-purple-500 text-white px-6 py-2 rounded-lg hover:bg-purple-600 transition-colors">
                        🔄 Latihan Lagi
                    </button>
                </div>
            </div>
        </section>

        <!-- Kuis Section -->
        <section id="kuis" class="section-content hidden">
            <div class="bg-white rounded-xl shadow-lg p-6 md:p-8">
                <h2 class="text-2xl md:text-3xl font-bold text-orange-700 mb-6 text-center">
                    🏆 Kuis Hukum Bacaan Mim Mati
                </h2>

                <div id="kuisContainer">
                    <div class="text-center mb-6">
                        <div class="bg-gradient-to-r from-orange-400 to-red-400 text-white p-4 rounded-lg inline-block">
                            <p class="text-lg font-semibold">Pertanyaan <span id="currentQuestion">1</span> dari <span id="totalQuestions">15</span></p>
                            <p class="text-sm opacity-90">Skor: <span id="score">0</span></p>
                        </div>
                    </div>

                    <div id="questionContainer" class="mb-6">
                        <!-- Questions will be generated by JavaScript -->
                    </div>

                    <div id="kuisResult" class="hidden text-center">
                        <div class="bg-gradient-to-r from-green-400 to-blue-400 text-white p-8 rounded-xl">
                            <h3 class="text-2xl font-bold mb-4">🎉 Kuis Selesai!</h3>
                            <p class="text-xl mb-4">Skor Akhir: <span id="finalScore"></span>/15</p>
                            <p class="text-lg mb-4">Nilai: <span id="finalGrade"></span></p>
                            <div id="scoreMessage" class="text-lg mb-6"></div>
                            
                            <!-- Input Nama dan Kelas -->
                            <div id="studentInfoSection" class="hidden mb-6">
                                <div class="bg-white text-gray-800 p-6 rounded-xl shadow-lg mx-auto max-w-md mb-4">
                                    <h4 class="text-xl font-bold text-green-600 mb-4">📝 Isi Data untuk Sertifikat</h4>
                                    <div class="bg-blue-50 p-3 rounded-lg mb-4">
                                        <p class="text-sm text-blue-700">
                                            <strong>📊 Info:</strong> Hasil kuis akan otomatis tersimpan ke Google Sheets untuk evaluasi guru
                                        </p>
                                    </div>
                                    <div class="space-y-4">
                                        <div>
                                            <label class="block text-sm font-semibold text-gray-700 mb-2">Nama Lengkap:</label>
                                            <input type="text" id="studentName" class="w-full p-3 border-2 border-gray-300 rounded-lg focus:border-green-500 focus:outline-none" placeholder="Masukkan nama lengkap">
                                        </div>
                                        <div>
                                            <label class="block text-sm font-semibold text-gray-700 mb-2">Kelas:</label>
                                            <input type="text" id="studentClass" class="w-full p-3 border-2 border-gray-300 rounded-lg focus:border-green-500 focus:outline-none" placeholder="Contoh: 5A">
                                        </div>
                                        <button onclick="generateCertificate()" class="w-full bg-green-500 text-white px-6 py-3 rounded-lg hover:bg-green-600 transition-colors font-semibold">
                                            🏆 Simpan & Buat Sertifikat
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <div id="certificateSection" class="hidden mb-6">
                                <canvas id="certificateCanvas" width="800" height="600" class="hidden"></canvas>
                                <div class="bg-white text-gray-800 p-6 rounded-xl shadow-lg mx-auto max-w-md mb-4">
                                    <div class="text-center">
                                        <h4 class="text-2xl font-bold text-green-600 mb-2">🏆 SERTIFIKAT</h4>
                                        <p class="text-lg font-semibold mb-2">KETUNTASAN BELAJAR</p>
                                        <div class="border-2 border-green-500 rounded-lg p-4 mb-4">
                                            <p class="text-sm text-gray-600 mb-2">Diberikan kepada:</p>
                                            <p class="text-xl font-bold text-green-700 mb-2" id="certificateName">SISWA BERPRESTASI</p>
                                            <p class="text-sm text-gray-600 mb-1">Kelas: <span id="certificateClass" class="font-semibold">-</span></p>
                                            <p class="text-sm text-gray-600 mb-2">Yang telah menyelesaikan</p>
                                            <p class="font-semibold text-blue-700">Kuis Hukum Bacaan Mim Mati</p>
                                            <p class="text-sm text-gray-600 mt-2">dengan nilai:</p>
                                            <p class="text-2xl font-bold text-green-600" id="certificateGrade"></p>
                                        </div>
                                        <p class="text-xs text-gray-500">Al-Quran Hadits - Kelas 5 MI</p>
                                        <p class="text-xs text-gray-500" id="certificateDate"></p>
                                    </div>
                                </div>
                                <div class="space-y-2">
                                    <button onclick="downloadCertificateImage()" class="bg-green-500 text-white px-6 py-2 rounded-lg hover:bg-green-600 transition-colors mr-2">
                                        🖼️ Download Gambar
                                    </button>
                                    <button onclick="downloadCertificateText()" class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition-colors">
                                        📄 Download Teks
                                    </button>
                                </div>
                            </div>
                            <button onclick="resetKuis()" class="bg-white text-blue-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors">
                                🔄 Ulangi Kuis
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gradient-to-r from-green-600 to-blue-600 text-white py-6 mt-12">
        <div class="container mx-auto px-4 text-center">
            <p class="text-lg font-semibold mb-2">🌟 Semoga Bermanfaat! 🌟</p>
            <p class="opacity-90">Ide kreatif: MAHFUD SIDIK, S.Pd.I</p>
        </div>
    </footer>

    <script>
        // Navigation functionality - moved to bottom to avoid duplication

        // Latihan data
        const latihanData = [
            // Ikhfa Syafawi examples
            { text: "أَمْ بَشَرٌ", answer: "Ikhfa Syafawi", explanation: "Mim mati (مْ) bertemu dengan Ba (ب) - dibaca samar-samar dengan dengung" },
            { text: "هُمْ بِهِ", answer: "Ikhfa Syafawi", explanation: "Mim mati (مْ) bertemu dengan Ba (ب) - dibaca samar-samar dengan dengung" },
            { text: "وَمَا هُمْ بِمُؤْمِنِينَ", answer: "Ikhfa Syafawi", explanation: "Mim mati (مْ) bertemu dengan Ba (ب) - dibaca samar-samar dengan dengung" },
            { text: "لَهُمْ بَيْتٌ", answer: "Ikhfa Syafawi", explanation: "Mim mati (مْ) bertemu dengan Ba (ب) - dibaca samar-samar dengan dengung" },
            { text: "عَلَيْهِمْ بَرْدٌ", answer: "Ikhfa Syafawi", explanation: "Mim mati (مْ) bertemu dengan Ba (ب) - dibaca samar-samar dengan dengung" },
            
            // Idgham Mimi examples
            { text: "لَهُمْ مَا", answer: "Idgham Mimi", explanation: "Mim mati (مْ) bertemu dengan Mim (م) - dilebur dengan dengung 2 harakat" },
            { text: "أَمْ مَنْ", answer: "Idgham Mimi", explanation: "Mim mati (مْ) bertemu dengan Mim (م) - dilebur dengan dengung 2 harakat" },
            { text: "هُمْ مُفْلِحُونَ", answer: "Idgham Mimi", explanation: "Mim mati (مْ) bertemu dengan Mim (م) - dilebur dengan dengung 2 harakat" },
            { text: "أَنْتُمْ مُسْلِمُونَ", answer: "Idgham Mimi", explanation: "Mim mati (مْ) bertemu dengan Mim (م) - dilebur dengan dengung 2 harakat" },
            { text: "عَلَيْهِمْ مَا", answer: "Idgham Mimi", explanation: "Mim mati (مْ) bertemu dengan Mim (م) - dilebur dengan dengung 2 harakat" },
            
            // Izhar Syafawi examples
            { text: "هُمْ فِيهَا", answer: "Izhar Syafawi", explanation: "Mim mati (مْ) bertemu dengan Fa (ف) - dibaca jelas tanpa dengung" },
            { text: "أَمْ لَهُمْ", answer: "Izhar Syafawi", explanation: "Mim mati (مْ) bertemu dengan Lam (ل) - dibaca jelas tanpa dengung" },
            { text: "هُمْ يُوقِنُونَ", answer: "Izhar Syafawi", explanation: "Mim mati (مْ) bertemu dengan Ya (ي) - dibaca jelas tanpa dengung" },
            { text: "لَهُمْ نَصِيبٌ", answer: "Izhar Syafawi", explanation: "Mim mati (مْ) bertemu dengan Nun (ن) - dibaca jelas tanpa dengung" },
            { text: "عَلَيْهِمْ هُدًى", answer: "Izhar Syafawi", explanation: "Mim mati (مْ) bertemu dengan Ha (ه) - dibaca jelas tanpa dengung" },
            { text: "أَنْتُمْ وَلَدٌ", answer: "Izhar Syafawi", explanation: "Mim mati (مْ) bertemu dengan Waw (و) - dibaca jelas tanpa dengung" },
            { text: "لَهُمْ تِجَارَةٌ", answer: "Izhar Syafawi", explanation: "Mim mati (مْ) bertemu dengan Ta (ت) - dibaca jelas tanpa dengung" },
            { text: "أَنْتُمْ ثَلَاثَةٌ", answer: "Izhar Syafawi", explanation: "Mim mati (مْ) bertemu dengan Tsa (ث) - dibaca jelas tanpa dengung" },
            { text: "لَهُمْ جَنَّةٌ", answer: "Izhar Syafawi", explanation: "Mim mati (مْ) bertemu dengan Jim (ج) - dibaca jelas tanpa dengung" },
            { text: "عَلَيْهِمْ خَوْفٌ", answer: "Izhar Syafawi", explanation: "Mim mati (مْ) bertemu dengan Kha (خ) - dibaca jelas tanpa dengung" },
            { text: "لَهُمْ قَوْلٌ", answer: "Izhar Syafawi", explanation: "Mim mati (مْ) bertemu dengan Qaf (ق) - dibaca jelas tanpa dengung" },
            { text: "أَنْتُمْ كَذَلِكَ", answer: "Izhar Syafawi", explanation: "Mim mati (مْ) bertemu dengan Kaf (ك) - dibaca jelas tanpa dengung" }
        ];

        // Initialize latihan
        function initLatihan() {
            const container = document.getElementById('latihanContainer');
            container.innerHTML = '';
            
            latihanData.forEach((item, index) => {
                const div = document.createElement('div');
                div.className = 'latihan-item bg-gradient-to-r from-purple-100 to-pink-100 p-4 rounded-lg cursor-pointer hover:shadow-lg transition-all transform hover:scale-105';
                div.innerHTML = `
                    <p class="arabic-large text-center text-purple-600 mb-2">${item.text}</p>
                    <p class="text-center text-gray-600 text-sm">Klik untuk melihat jawaban</p>
                `;
                div.onclick = () => showLatihanAnswer(index);
                container.appendChild(div);
            });
        }

        function showLatihanAnswer(index) {
            const item = latihanData[index];
            const resultDiv = document.getElementById('latihanResult');
            const contentDiv = document.getElementById('resultContent');
            
            contentDiv.innerHTML = `
                <div class="bounce-in">
                    <p class="arabic-large text-green-600 mb-3" style="font-size: 3rem;">${item.text}</p>
                    <h3 class="text-2xl font-bold text-blue-700 mb-2">Jawaban: ${item.answer}</h3>
                    <p class="text-gray-700 text-lg">${item.explanation}</p>
                </div>
            `;
            
            resultDiv.classList.remove('hidden');
            resultDiv.scrollIntoView({ behavior: 'smooth' });
        }

        function resetLatihan() {
            document.getElementById('latihanResult').classList.add('hidden');
            initLatihan();
        }

        // Kuis data
        const kuisData = [
            // 10 Soal Pilihan Ganda
            {
                type: "multiple_choice",
                question: "Apa hukum bacaan untuk: <span class='arabic-text'>أَمْ بَشَرٌ</span>",
                options: ["Ikhfa Syafawi", "Idgham Mimi", "Izhar Syafawi", "Iqlab"],
                correct: 0,
                explanation: "Mim mati (<span class='arabic-text'>مْ</span>) bertemu Ba (<span class='arabic-text'>ب</span>) dibaca Ikhfa Syafawi"
            },
            {
                type: "multiple_choice",
                question: "Berapa huruf yang menyebabkan Izhar Syafawi?",
                options: ["1 huruf", "2 huruf", "26 huruf", "28 huruf"],
                correct: 2,
                explanation: "26 huruf selain Ba dan Mim menyebabkan Izhar Syafawi"
            },
            {
                type: "multiple_choice",
                question: "Apa hukum bacaan untuk: <span class='arabic-text'>لَهُمْ مَا</span>",
                options: ["Ikhfa Syafawi", "Idgham Mimi", "Izhar Syafawi", "Ghunnah"],
                correct: 1,
                explanation: "Mim mati (<span class='arabic-text'>مْ</span>) bertemu Mim (<span class='arabic-text'>م</span>) dibaca Idgham Mimi"
            },
            {
                type: "multiple_choice",
                question: "Apa hukum bacaan untuk: <span class='arabic-text'>هُمْ فِيهَا</span>",
                options: ["Ikhfa Syafawi", "Idgham Mimi", "Izhar Syafawi", "Ikhfa Haqiqi"],
                correct: 2,
                explanation: "Mim mati (<span class='arabic-text'>مْ</span>) bertemu Fa (<span class='arabic-text'>ف</span>) dibaca Izhar Syafawi"
            },
            {
                type: "multiple_choice",
                question: "Manakah yang BUKAN termasuk hukum bacaan Mim Mati?",
                options: ["Ikhfa Syafawi", "Idgham Mimi", "Izhar Syafawi", "Iqlab"],
                correct: 3,
                explanation: "Iqlab adalah hukum bacaan Nun Mati/Tanwin, bukan Mim Mati"
            },
            {
                type: "multiple_choice",
                question: "Bagaimana cara membaca Ikhfa Syafawi?",
                options: ["Jelas dan terang", "Samar-samar dengan dengung", "Dilebur tanpa dengung", "Dipanjangkan"],
                correct: 1,
                explanation: "Ikhfa Syafawi dibaca samar-samar dengan dengung di bibir"
            },
            {
                type: "multiple_choice",
                question: "Apa hukum bacaan untuk: <span class='arabic-text'>هُمْ يُوقِنُونَ</span>",
                options: ["Ikhfa Syafawi", "Idgham Mimi", "Izhar Syafawi", "Ghunnah"],
                correct: 2,
                explanation: "Mim mati (<span class='arabic-text'>مْ</span>) bertemu Ya (<span class='arabic-text'>ي</span>) dibaca Izhar Syafawi"
            },
            {
                type: "multiple_choice",
                question: "Huruf apa yang menyebabkan Ikhfa Syafawi?",
                options: ["Mim (<span class='arabic-text'>م</span>)", "Ba (<span class='arabic-text'>ب</span>)", "Fa (<span class='arabic-text'>ف</span>)", "Lam (<span class='arabic-text'>ل</span>)"],
                correct: 1,
                explanation: "Hanya huruf Ba (<span class='arabic-text'>ب</span>) yang menyebabkan Ikhfa Syafawi"
            },
            {
                type: "multiple_choice",
                question: "Bagaimana cara membaca Idgham Mimi?",
                options: ["Jelas tanpa dengung", "Samar-samar", "Dilebur dengan dengung", "Dipanjangkan"],
                correct: 2,
                explanation: "Idgham Mimi dibaca dengan cara dilebur dan berdengung"
            },
            {
                type: "multiple_choice",
                question: "Apa hukum bacaan untuk: <span class='arabic-text'>أَمْ لَهُمْ</span>",
                options: ["Ikhfa Syafawi", "Idgham Mimi", "Izhar Syafawi", "Iqlab"],
                correct: 2,
                explanation: "Mim mati (<span class='arabic-text'>مْ</span>) bertemu Lam (<span class='arabic-text'>ل</span>) dibaca Izhar Syafawi"
            },
            // 5 Soal Menjodohkan
            {
                type: "matching",
                question: "Jodohkan hukum bacaan dengan huruf yang tepat:",
                pairs: [
                    { left: "Ikhfa Syafawi", right: "Ba (<span class='arabic-text'>ب</span>)" },
                    { left: "Idgham Mimi", right: "Mim (<span class='arabic-text'>م</span>)" },
                    { left: "Izhar Syafawi", right: "Fa (<span class='arabic-text'>ف</span>)" }
                ],
                explanation: "Ikhfa Syafawi dengan Ba, Idgham Mimi dengan Mim, Izhar Syafawi dengan huruf lainnya"
            },
            {
                type: "matching",
                question: "Jodohkan contoh bacaan dengan hukumnya:",
                pairs: [
                    { left: "<span class='arabic-text'>أَمْ بَشَرٌ</span>", right: "Ikhfa Syafawi" },
                    { left: "<span class='arabic-text'>أَمْ مَنْ</span>", right: "Idgham Mimi" },
                    { left: "<span class='arabic-text'>هُمْ يُوقِنُونَ</span>", right: "Izhar Syafawi" }
                ],
                explanation: "<span class='arabic-text'>أَمْ بَشَرٌ</span> = Ikhfa Syafawi, <span class='arabic-text'>أَمْ مَنْ</span> = Idgham Mimi, <span class='arabic-text'>هُمْ يُوقِنُونَ</span> = Izhar Syafawi"
            },
            {
                type: "matching",
                question: "Jodohkan hukum bacaan dengan cara membacanya:",
                pairs: [
                    { left: "Ikhfa Syafawi", right: "Samar-samar dengan dengung" },
                    { left: "Idgham Mimi", right: "Dilebur dengan dengung" },
                    { left: "Izhar Syafawi", right: "Jelas dan terang" }
                ],
                explanation: "Setiap hukum bacaan memiliki cara baca yang berbeda sesuai karakteristiknya"
            },
            {
                type: "matching",
                question: "Jodohkan contoh bacaan dengan huruf setelah Mim Mati:",
                pairs: [
                    { left: "<span class='arabic-text'>هُمْ بِهِ</span>", right: "Ba (<span class='arabic-text'>ب</span>)" },
                    { left: "<span class='arabic-text'>لَهُمْ مَا</span>", right: "Mim (<span class='arabic-text'>م</span>)" },
                    { left: "<span class='arabic-text'>هُمْ فِيهَا</span>", right: "Fa (<span class='arabic-text'>ف</span>)" }
                ],
                explanation: "Huruf setelah Mim Mati menentukan hukum bacaan yang digunakan"
            },
            {
                type: "matching",
                question: "Jodohkan istilah Arab dengan artinya:",
                pairs: [
                    { left: "<span class='arabic-text'>إخفاء شفوي</span>", right: "Ikhfa Syafawi" },
                    { left: "<span class='arabic-text'>إدغام ميمي</span>", right: "Idgham Mimi" },
                    { left: "<span class='arabic-text'>إظهار شفوي</span>", right: "Izhar Syafawi" }
                ],
                explanation: "Setiap hukum bacaan memiliki nama dalam bahasa Arab dan Indonesia"
            }
        ];

        let currentQuestionIndex = 0;
        let kuisScore = 0;

        let matchingAnswers = {};

        function initKuis() {
            currentQuestionIndex = 0;
            kuisScore = 0;
            matchingAnswers = {};
            document.getElementById('currentQuestion').textContent = '1';
            document.getElementById('totalQuestions').textContent = kuisData.length;
            document.getElementById('score').textContent = '0';
            document.getElementById('kuisResult').classList.add('hidden');
            document.getElementById('questionContainer').classList.remove('hidden');
            showQuestion();
        }

        function showQuestion() {
            if (currentQuestionIndex >= kuisData.length) {
                showKuisResult();
                return;
            }

            const question = kuisData[currentQuestionIndex];
            const container = document.getElementById('questionContainer');
            
            if (question.type === 'multiple_choice' || question.type === 'true_false') {
                container.innerHTML = `
                    <div class="bg-gradient-to-r from-orange-50 to-yellow-50 p-6 rounded-lg border-l-4 border-orange-500">
                        <h3 class="text-xl font-semibold text-orange-700 mb-4">${question.question}</h3>
                        <div class="space-y-3">
                            ${question.options.map((option, index) => `
                                <button onclick="selectAnswer(${index})" 
                                        class="answer-btn w-full text-left p-4 bg-white border-2 border-gray-200 rounded-lg hover:border-orange-400 hover:bg-orange-50 transition-all">
                                    ${String.fromCharCode(65 + index)}. ${option}
                                </button>
                            `).join('')}
                        </div>
                    </div>
                `;
            } else if (question.type === 'matching') {
                const shuffledRight = [...question.pairs.map(p => p.right)].sort(() => Math.random() - 0.5);
                let leftItemsHTML = '';
                question.pairs.forEach((pair, index) => {
                    const cleanLeft = pair.left.replace(/'/g, '&#39;').replace(/"/g, '&quot;');
                    leftItemsHTML += `
                        <div onclick="selectLeftItem(\`${cleanLeft}\`, ${index})" 
                             class="left-item p-3 bg-blue-100 rounded-lg border-2 border-blue-200 cursor-pointer hover:bg-blue-200 transition-all select-none">
                            <span class="font-semibold">${index + 1}.</span> <span class="ml-2">${pair.left}</span>
                        </div>
                    `;
                });

                let rightItemsHTML = '';
                shuffledRight.forEach((right, index) => {
                    const cleanRight = right.replace(/'/g, '&#39;').replace(/"/g, '&quot;');
                    rightItemsHTML += `
                        <div onclick="selectRightItem(\`${cleanRight}\`)" 
                             class="matching-btn w-full text-left p-3 bg-white border-2 border-gray-200 rounded-lg hover:border-orange-400 hover:bg-orange-50 transition-all select-none cursor-pointer">
                            <span class="font-semibold">${String.fromCharCode(65 + index)}.</span> <span class="ml-2">${right}</span>
                        </div>
                    `;
                });

                container.innerHTML = `
                    <div class="bg-gradient-to-r from-orange-50 to-yellow-50 p-6 rounded-lg border-l-4 border-orange-500">
                        <h3 class="text-xl font-semibold text-orange-700 mb-4">${question.question}</h3>
                        <p id="matchingInstruction" class="text-sm text-gray-600 mb-4">Pilih item di Kolom A, lalu pilih pasangannya di Kolom B</p>
                        <div class="grid md:grid-cols-2 gap-6">
                            <div>
                                <h4 class="font-semibold text-gray-700 mb-3 bg-blue-100 p-2 rounded">Kolom A:</h4>
                                <div class="space-y-2">
                                    ${leftItemsHTML}
                                </div>
                            </div>
                            <div>
                                <h4 class="font-semibold text-gray-700 mb-3 bg-orange-100 p-2 rounded">Kolom B:</h4>
                                <div class="space-y-2">
                                    ${rightItemsHTML}
                                </div>
                            </div>
                        </div>
                        <div class="mt-4 p-3 bg-gray-100 rounded-lg">
                            <p class="text-sm text-gray-600 mb-2">📝 Jawaban Anda:</p>
                            <div id="matchingResults" class="text-sm space-y-1 min-h-[60px]">
                                <p class="text-gray-400 italic">Belum ada jawaban...</p>
                            </div>
                        </div>
                        <button onclick="checkMatching()" id="checkMatchingBtn" 
                                class="mt-4 bg-orange-500 text-white px-6 py-2 rounded-lg hover:bg-orange-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed" 
                                disabled>
                            Periksa Jawaban
                        </button>
                    </div>
                `;
                matchingAnswers = {};
                selectedMatchingItem = null;
            }
        }

        let selectedMatchingItem = null;

        function selectAnswer(selectedIndex) {
            const question = kuisData[currentQuestionIndex];
            const buttons = document.querySelectorAll('.answer-btn');
            
            buttons.forEach((btn, index) => {
                btn.disabled = true;
                if (index === question.correct) {
                    btn.classList.add('bg-green-500', 'text-white', 'border-green-500');
                } else if (index === selectedIndex && index !== question.correct) {
                    btn.classList.add('bg-red-500', 'text-white', 'border-red-500');
                }
            });

            if (selectedIndex === question.correct) {
                kuisScore++;
                document.getElementById('score').textContent = kuisScore;
            }

            // Show explanation
            setTimeout(() => {
                const container = document.getElementById('questionContainer');
                container.innerHTML += `
                    <div class="mt-4 p-4 bg-blue-100 rounded-lg border-l-4 border-blue-500">
                        <p class="text-blue-700 font-semibold">Penjelasan:</p>
                        <p class="text-blue-600">${question.explanation}</p>
                        <button onclick="nextQuestion()" class="mt-3 bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition-colors">
                            ${currentQuestionIndex < kuisData.length - 1 ? 'Pertanyaan Selanjutnya' : 'Lihat Hasil'} →
                        </button>
                    </div>
                `;
            }, 1000);
        }

        function selectLeftItem(leftItem, index) {
            // Remove previous selection
            const leftItems = document.querySelectorAll('.left-item');
            leftItems.forEach(li => li.classList.remove('bg-blue-300', 'border-blue-400'));
            
            // Add selection to clicked item
            leftItems[index].classList.add('bg-blue-300', 'border-blue-400');
            selectedMatchingItem = leftItem;
            
            // Show instruction
            const instruction = document.getElementById('matchingInstruction');
            if (instruction) {
                instruction.textContent = 'Sekarang pilih jawaban yang tepat di Kolom B';
                instruction.className = 'text-blue-600 font-semibold mb-4';
            }
        }

        function selectRightItem(rightItem) {
            if (selectedMatchingItem) {
                matchingAnswers[selectedMatchingItem] = rightItem;
                updateMatchingDisplay();
                
                // Remove selection styling
                const leftItems = document.querySelectorAll('.left-item');
                leftItems.forEach(li => li.classList.remove('bg-blue-300', 'border-blue-400'));
                selectedMatchingItem = null;
                
                // Update instruction
                const instruction = document.getElementById('matchingInstruction');
                if (instruction) {
                    instruction.textContent = 'Pilih item di Kolom A, lalu pilih pasangannya di Kolom B';
                    instruction.className = 'text-sm text-gray-600 mb-4';
                }
                
                // Check if all pairs are matched
                const question = kuisData[currentQuestionIndex];
                if (Object.keys(matchingAnswers).length === question.pairs.length) {
                    const checkBtn = document.getElementById('checkMatchingBtn');
                    if (checkBtn) {
                        checkBtn.disabled = false;
                        checkBtn.classList.remove('opacity-50', 'cursor-not-allowed');
                    }
                }
            } else {
                showCustomAlert('Pilih item di Kolom A terlebih dahulu!', 'error');
            }
        }

        function showCustomAlert(message, type = 'info') {
            const alertDiv = document.createElement('div');
            const bgColor = type === 'error' ? 'bg-red-500' : type === 'success' ? 'bg-green-500' : 'bg-blue-500';
            alertDiv.className = `fixed top-4 left-1/2 transform -translate-x-1/2 ${bgColor} text-white px-6 py-3 rounded-lg shadow-lg z-50`;
            alertDiv.textContent = message;
            document.body.appendChild(alertDiv);
            
            setTimeout(() => {
                if (document.body.contains(alertDiv)) {
                    document.body.removeChild(alertDiv);
                }
            }, 3000);
        }

        function updateMatchingDisplay() {
            const resultsDiv = document.getElementById('matchingResults');
            
            if (Object.keys(matchingAnswers).length === 0) {
                resultsDiv.innerHTML = '<p class="text-gray-400 italic">Belum ada jawaban...</p>';
                return;
            }
            
            resultsDiv.innerHTML = '';
            
            Object.entries(matchingAnswers).forEach(([left, right]) => {
                const div = document.createElement('div');
                div.className = 'text-gray-700 bg-white p-2 rounded border-l-4 border-green-400';
                div.innerHTML = `<strong>${left}</strong> → ${right}`;
                resultsDiv.appendChild(div);
            });
        }

        function checkMatching() {
            const question = kuisData[currentQuestionIndex];
            let correctCount = 0;
            
            question.pairs.forEach(pair => {
                if (matchingAnswers[pair.left] === pair.right) {
                    correctCount++;
                }
            });
            
            if (correctCount === question.pairs.length) {
                kuisScore++;
                document.getElementById('score').textContent = kuisScore;
            }
            
            // Show results
            const resultsDiv = document.getElementById('matchingResults');
            resultsDiv.innerHTML = '';
            
            question.pairs.forEach(pair => {
                const div = document.createElement('div');
                const isCorrect = matchingAnswers[pair.left] === pair.right;
                div.className = isCorrect ? 'text-green-600 font-semibold' : 'text-red-600';
                div.innerHTML = `${pair.left} → ${pair.right} ${isCorrect ? '✓' : '✗ (Anda: ' + matchingAnswers[pair.left] + ')'}`;
                resultsDiv.appendChild(div);
            });
            
            // Show explanation
            setTimeout(() => {
                const container = document.getElementById('questionContainer');
                container.innerHTML += `
                    <div class="mt-4 p-4 bg-blue-100 rounded-lg border-l-4 border-blue-500">
                        <p class="text-blue-700 font-semibold">Penjelasan:</p>
                        <p class="text-blue-600">${question.explanation}</p>
                        <button onclick="nextQuestion()" class="mt-3 bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition-colors">
                            ${currentQuestionIndex < kuisData.length - 1 ? 'Pertanyaan Selanjutnya' : 'Lihat Hasil'} →
                        </button>
                    </div>
                `;
            }, 1000);
        }

        function nextQuestion() {
            currentQuestionIndex++;
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            showQuestion();
        }

        function showKuisResult() {
            document.getElementById('questionContainer').classList.add('hidden');
            document.getElementById('kuisResult').classList.remove('hidden');
            document.getElementById('finalScore').textContent = kuisScore;
            
            // Calculate grade (nilai)
            const grade = Math.round((kuisScore / kuisData.length) * 100);
            document.getElementById('finalGrade').textContent = grade;
            
            let message = '';
            if (grade >= 90) {
                message = '🌟 Sempurna! Kamu sangat memahami materi ini!';
            } else if (grade >= 80) {
                message = '👏 Bagus sekali! Kamu hampir menguasai semua materi!';
            } else if (grade >= 70) {
                message = '👍 Baik! Kamu sudah tuntas dalam materi ini!';
            } else if (grade >= 60) {
                message = '📚 Cukup baik! Terus belajar ya!';
            } else {
                message = '💪 Jangan menyerah! Coba pelajari materi lagi!';
            }
            
            document.getElementById('scoreMessage').textContent = message;
            
            // Always show student info input for data collection
            document.getElementById('studentInfoSection').classList.remove('hidden');
        }

        function resetKuis() {
            document.getElementById('questionContainer').classList.remove('hidden');
            document.getElementById('certificateSection').classList.add('hidden');
            document.getElementById('studentInfoSection').classList.add('hidden');
            document.getElementById('studentName').value = '';
            document.getElementById('studentClass').value = '';
            initKuis();
        }

        // Google Sheets Configuration
        const GOOGLE_SHEETS_URL = 'https://script.google.com/macros/s/AKfycbzbzyMXRcFuyMmqbjDFPA9i9ixUJ3qoY_9mWkraa3RPBNNePRTpOi5PG6c8iS_G8DdI1w/exec';
        
        async function saveToGoogleSheets(name, studentClass, score, grade, timestamp) {
            try {
                const data = {
                    nama: name,
                    kelas: studentClass,
                    skor: score,
                    nilai: grade,
                    waktu: timestamp,
                    materi: 'Hukum Bacaan Mim Mati'
                };
                
                const response = await fetch(GOOGLE_SHEETS_URL, {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data)
                });
                
                console.log('Data berhasil dikirim ke Google Sheets');
                return true;
            } catch (error) {
                console.error('Error mengirim data ke Google Sheets:', error);
                return false;
            }
        }

        function generateCertificate() {
            const name = document.getElementById('studentName').value.trim();
            const studentClass = document.getElementById('studentClass').value.trim();
            
            if (!name || !studentClass) {
                showCustomAlert('Mohon isi nama dan kelas terlebih dahulu!', 'error');
                return;
            }
            
            const grade = Math.round((kuisScore / kuisData.length) * 100);
            
            // Set current date
            const now = new Date();
            const dateStr = now.toLocaleDateString('id-ID', { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
            const timestamp = now.toLocaleString('id-ID');
            
            // Save to Google Sheets
            saveToGoogleSheets(name, studentClass, kuisScore, grade, timestamp);
            
            // Update certificate display
            document.getElementById('certificateName').textContent = name.toUpperCase();
            document.getElementById('certificateClass').textContent = studentClass;
            document.getElementById('certificateGrade').textContent = grade;
            document.getElementById('certificateDate').textContent = dateStr;
            
            // Hide input section and show certificate
            document.getElementById('studentInfoSection').classList.add('hidden');
            document.getElementById('certificateSection').classList.remove('hidden');
            
            // Generate certificate image
            generateCertificateImage(name, studentClass, grade, dateStr);
        }

        function generateCertificateImage(name, studentClass, grade, date) {
            const canvas = document.getElementById('certificateCanvas');
            const ctx = canvas.getContext('2d');
            
            // Set canvas size
            canvas.width = 800;
            canvas.height = 600;
            
            // Background gradient
            const gradient = ctx.createLinearGradient(0, 0, 800, 600);
            gradient.addColorStop(0, '#f0f9ff');
            gradient.addColorStop(0.5, '#e0f2fe');
            gradient.addColorStop(1, '#f0f9ff');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, 800, 600);
            
            // Border
            ctx.strokeStyle = '#059669';
            ctx.lineWidth = 8;
            ctx.strokeRect(20, 20, 760, 560);
            
            // Inner border
            ctx.strokeStyle = '#10b981';
            ctx.lineWidth = 2;
            ctx.strokeRect(40, 40, 720, 520);
            
            // Title
            ctx.fillStyle = '#059669';
            ctx.font = 'bold 48px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('🏆 SERTIFIKAT 🏆', 400, 120);
            
            ctx.font = 'bold 32px Arial';
            ctx.fillText('KETUNTASAN BELAJAR', 400, 160);
            
            // Content
            ctx.fillStyle = '#374151';
            ctx.font = '24px Arial';
            ctx.fillText('Diberikan kepada:', 400, 220);
            
            ctx.fillStyle = '#059669';
            ctx.font = 'bold 36px Arial';
            ctx.fillText(name.toUpperCase(), 400, 270);
            
            ctx.fillStyle = '#374151';
            ctx.font = '20px Arial';
            ctx.fillText(`Kelas: ${studentClass}`, 400, 300);
            
            ctx.font = '24px Arial';
            ctx.fillText('Yang telah menyelesaikan', 400, 340);
            
            ctx.fillStyle = '#2563eb';
            ctx.font = 'bold 28px Arial';
            ctx.fillText('Kuis Hukum Bacaan Mim Mati', 400, 380);
            
            ctx.fillStyle = '#374151';
            ctx.font = '24px Arial';
            ctx.fillText('dengan nilai:', 400, 420);
            
            ctx.fillStyle = '#059669';
            ctx.font = 'bold 48px Arial';
            ctx.fillText(grade, 400, 470);
            
            // Footer
            ctx.fillStyle = '#6b7280';
            ctx.font = '18px Arial';
            ctx.fillText('Al-Quran Hadits - Kelas 5 MI', 400, 520);
            ctx.fillText(date, 400, 545);
        }

        function downloadCertificateImage() {
            const canvas = document.getElementById('certificateCanvas');
            const name = document.getElementById('certificateName').textContent;
            const grade = document.getElementById('certificateGrade').textContent;
            
            // Create download link
            const link = document.createElement('a');
            link.download = `Sertifikat_${name.replace(/\s+/g, '_')}_${grade}.png`;
            link.href = canvas.toDataURL('image/png');
            link.click();
            
            showCustomAlert('Sertifikat gambar berhasil didownload!', 'success');
        }

        function downloadCertificateText() {
            const name = document.getElementById('certificateName').textContent;
            const studentClass = document.getElementById('certificateClass').textContent;
            const grade = document.getElementById('certificateGrade').textContent;
            const date = document.getElementById('certificateDate').textContent;
            
            const certificateText = `🏆 SERTIFIKAT KETUNTASAN BELAJAR 🏆

Diberikan kepada:
${name}
Kelas: ${studentClass}

Yang telah menyelesaikan
Kuis Hukum Bacaan Mim Mati
Al-Quran Hadits - Kelas 5 MI

dengan nilai: ${grade}

${date}

Selamat! Anda telah tuntas dalam materi Hukum Bacaan Mim Mati.`;
            
            // Create downloadable file
            const blob = new Blob([certificateText], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `Sertifikat_${name.replace(/\s+/g, '_')}_${grade}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
            
            showCustomAlert('Sertifikat teks berhasil didownload!', 'success');
        }

        function fallbackCopyTextToClipboard(text) {
            const textArea = document.createElement("textarea");
            textArea.value = text;
            textArea.style.position = "fixed";
            textArea.style.left = "-999999px";
            textArea.style.top = "-999999px";
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
                document.execCommand('copy');
                showCustomAlert('Sertifikat berhasil disalin ke clipboard! Anda bisa paste di aplikasi lain.', 'success');
            } catch (err) {
                showCustomAlert('Tidak dapat menyalin sertifikat. Silakan screenshot sertifikat di atas.', 'error');
            }
            
            document.body.removeChild(textArea);
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            showSection('materi');
            initLatihan();
        });

        // Also initialize when latihan section is shown
        function showSection(sectionName) {
            // Hide all sections
            const sections = document.querySelectorAll('.section-content');
            sections.forEach(section => {
                section.classList.add('hidden');
            });
            
            // Show selected section
            const targetSection = document.getElementById(sectionName);
            if (targetSection) {
                targetSection.classList.remove('hidden');
                targetSection.classList.add('slide-in');
            }
            
            // Initialize latihan when section is shown
            if (sectionName === 'latihan') {
                setTimeout(() => {
                    initLatihan();
                }, 100);
            }
            
            // Initialize kuis when section is shown
            if (sectionName === 'kuis') {
                setTimeout(() => {
                    initKuis();
                }, 100);
            }
            
            // Update nav buttons - safely handle event
            const navButtons = document.querySelectorAll('.nav-btn');
            navButtons.forEach(btn => {
                btn.classList.remove('glow');
            });
            
            // Find and highlight the correct nav button
            const navButton = document.querySelector(`[onclick="showSection('${sectionName}')"]`);
            if (navButton) {
                navButton.classList.add('glow');
            }
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96d0464ac57dfd65',t:'MTc1NDgzNzEwMS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
